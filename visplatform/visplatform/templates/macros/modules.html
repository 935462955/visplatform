{% macro module_li(modules,dics) %} <!-- 单元宏 -->
      {% for module in modules %}
                    <li class="module-li ">
                        <ul>
                            <div style="padding:12px 20px;border:1px solid; background-color: #f5f5f5">
                                <svg style="cursor:move;" class="bi bi-grip-horizontal horizontal-module" width="1.5em"
                                     height="1.5em" viewBox="0 0 16 16" fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                                </svg>

                                <a class="arrow" data-toggle="collapse" href="#id_{{ module._id }}" role="button">
                                    <!-- 折叠箭头 -->
                                    <svg class="bi bi-caret-right-fill" width="1em" height="1em" viewBox="0 0 16 16"
                                         fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path data-state="right"
                                              d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
                                    </svg>
                                </a>{{ module.module_name }}
                                <!-- 单元下拉菜单 -->
                                <div style="float: right;" class="dropdown">
                                    <button style="padding:0" class="btn" type="button" id="dropdownMenuButton"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <svg style="cursor:pointer" class="bi bi-three-dots-vertical sub_module_extend"
                                             width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="grey"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                  d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                        </svg>
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <a class="dropdown-item module-operation" href="#"
                                           data-operation="delete_module">删除</a>
                                        <a class="dropdown-item module-operation" href="#">Another action</a>
                                        <a class="dropdown-item module-operation" href="#">Something else here</a>
                                    </div>
                                </div>
                                <div style="float:right;"> <!-- 触发模态框 -->
                                    <button style="padding:0; margin-right:10px;" class="btn add_sub_module_btn"
                                            type="button" data-module="{{ module._id }}"
                                            data-module-name="{{ module.module_name }}" data-toggle="modal"
                                            data-target="#exampleModal">
                                        <svg class="bi bi-plus-circle" width="1em" height="1em" viewBox="0 0 16 16"
                                             fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                  d="M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"/>
                                            <path fill-rule="evenodd"
                                                  d="M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"/>
                                            <path fill-rule="evenodd"
                                                  d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <ul class="collapse list-group " id="id_{{ module._id }}">
                                {{ sub_module_li(module.sub_modules, dics) }} <!-- 宏模板 -->

                            </ul>
                        </ul>
                    </li>
      {% endfor %}
{% endmacro %}
{% macro sub_module_li(sub_modules,dics) %} <!-- 子模块宏 -->
{% for sub_module in sub_modules %}
                            <li class="list-group-item" id="id_{{ sub_module.sub_id }}">
                                <svg style="cursor:move;" class="bi bi-grip-horizontal horizontal-sub-module"
                                     width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                                </svg>
                                <a href="{{ url_for('show_course',_id = sub_module.sub_id,type=sub_module.type,order = sub_module.order) }}">
                                    {{ dics[sub_module.sub_id] }}
                                </a>
                                <!-- 子模块下拉菜单 -->
                                <div style="float: right;" class="dropdown">
                                    <button style="padding:0" class="btn" type="button" id="dropdownMenuButton"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <svg style="cursor:pointer" class="bi bi-three-dots-vertical sub_module_extend"
                                             width="1.5em" height="1.5em" viewBox="0 0 16 16" fill="grey"
                                             xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                  d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                        </svg>
                                    </button>
                                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton"><!-- 需要循环渲染 -->
                                        <a class="dropdown-item sub-module-operation" href="#" data-operation="delete_sub_module">删除</a>
                                        <a class="dropdown-item sub-module-operation" href="#">Another action</a>
                                        <a class="dropdown-item sub-module-operation" href="#">Something else here</a>
                                    </div>
                                </div>

                            </li>
                        {% endfor %}
{% endmacro %}
